# Mosquitto MQTT Broker 配置 - SIT 環境
# Ultimate Security Intelligence Platform

# 基本設定
pid_file /var/run/mosquitto.pid
persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type all
log_timestamp true
connection_messages true
log_timestamp_format %Y-%m-%dT%H:%M:%S

# 監聽設定
listener 1883
protocol mqtt

# WebSocket 支援
listener 9001
protocol websockets

# 允許匿名連接（開發環境）
allow_anonymous true

# 最大連接數
max_connections 1000

# 連接超時
connection_messages true
log_connections true
log_disconnections true

# 保留訊息設定
max_queued_messages 100
max_inflight_messages 20

# 安全設定
# 如果需要認證，取消註解以下行
# allow_anonymous false
# password_file /mosquitto/config/passwd

# 主題權限設定
# 允許所有主題（開發環境）
# 生產環境應該設定更嚴格的權限
